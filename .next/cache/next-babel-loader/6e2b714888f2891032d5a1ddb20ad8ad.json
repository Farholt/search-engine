{"ast":null,"code":"import jsonResult from '../../shared/functions/convertDatasetToJson';\nimport { Centroid } from '../../shared/class/Centroid';\n\nconst random = from => to => from + Math.random() * (to - from);\n\nconst kMean = (req, res) => {\n  let k = random(1)(20); // const n = jsonResult()[0].total\n\n  const n = 50;\n  const centroids = [];\n\n  for (let i = 0; i < k; i++) {\n    centroids[i] = new Centroid();\n\n    for (let j = 0; j < n; j++) {\n      centroids[i].setTotalWords(i, random(0)(8));\n    }\n  } // 50 = maxIterations\n\n\n  for (let i = 0; i < 50; i++) {\n    centroids.forEach((e, j) => e.clearAssignments());\n    jsonResult().forEach(e => {\n      let distance = Infinity;\n      let closest;\n    });\n  }\n\n  res.json(JSON.stringify(centroids, null, 2));\n};\n\nexport default kMean;","map":{"version":3,"sources":["C:/Users/fredr/Documents/Universitet/HT20/2DV515 - Web Intelligence/A2/pages/api/blog.ts"],"names":["jsonResult","Centroid","random","from","to","Math","kMean","req","res","k","n","centroids","i","j","setTotalWords","forEach","e","clearAssignments","distance","Infinity","closest","json","JSON","stringify"],"mappings":"AACA,OAAOA,UAAP,MAAuB,6CAAvB;AAEA,SAASC,QAAT,QAAyB,6BAAzB;;AAGA,MAAMC,MAAM,GAAIC,IAAD,IAAmBC,EAAD,IAC/BD,IAAI,GAAGE,IAAI,CAACH,MAAL,MAAiBE,EAAE,GAAGD,IAAtB,CADT;;AAGA,MAAMG,KAAK,GAAG,CAACC,GAAD,EAAsBC,GAAtB,KAA+C;AAC3D,MAAIC,CAAC,GAAGP,MAAM,CAAC,CAAD,CAAN,CAAU,EAAV,CAAR,CAD2D,CAE3D;;AACA,QAAMQ,CAAC,GAAG,EAAV;AACA,QAAMC,SAAS,GAAG,EAAlB;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAApB,EAAuBG,CAAC,EAAxB,EAA4B;AAC1BD,IAAAA,SAAS,CAACC,CAAD,CAAT,GAAe,IAAIX,QAAJ,EAAf;;AACA,SAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAApB,EAAuBG,CAAC,EAAxB,EAA4B;AAC1BF,MAAAA,SAAS,CAACC,CAAD,CAAT,CAAaE,aAAb,CAA2BF,CAA3B,EAA8BV,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,CAA9B;AACD;AACF,GAX0D,CAa3D;;;AACA,OAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3BD,IAAAA,SAAS,CAACI,OAAV,CAAkB,CAACC,CAAD,EAAIH,CAAJ,KAAUG,CAAC,CAACC,gBAAF,EAA5B;AAEAjB,IAAAA,UAAU,GAAGe,OAAb,CAAsBC,CAAD,IAAO;AAC1B,UAAIE,QAAQ,GAAGC,QAAf;AACA,UAAIC,OAAJ;AACD,KAHD;AAID;;AAEDZ,EAAAA,GAAG,CAACa,IAAJ,CAASC,IAAI,CAACC,SAAL,CAAeZ,SAAf,EAA0B,IAA1B,EAAgC,CAAhC,CAAT;AACD,CAxBD;;AA0BA,eAAeL,KAAf","sourcesContent":["import { NextApiRequest, NextApiResponse } from 'next'\r\nimport jsonResult from '../../shared/functions/convertDatasetToJson'\r\n\r\nimport { Centroid } from '../../shared/class/Centroid'\r\nimport pearson from '../../shared/functions/pearson'\r\n\r\nconst random = (from: number) => (to: number) =>\r\n  from + Math.random() * (to - from)\r\n\r\nconst kMean = (req: NextApiRequest, res: NextApiResponse) => {\r\n  let k = random(1)(20)\r\n  // const n = jsonResult()[0].total\r\n  const n = 50\r\n  const centroids = []\r\n\r\n  for (let i = 0; i < k; i++) {\r\n    centroids[i] = new Centroid()\r\n    for (let j = 0; j < n; j++) {\r\n      centroids[i].setTotalWords(i, random(0)(8))\r\n    }\r\n  }\r\n\r\n  // 50 = maxIterations\r\n  for (let i = 0; i < 50; i++) {\r\n    centroids.forEach((e, j) => e.clearAssignments())\r\n\r\n    jsonResult().forEach((e) => {\r\n      let distance = Infinity\r\n      let closest\r\n    })\r\n  }\r\n\r\n  res.json(JSON.stringify(centroids, null, 2))\r\n}\r\n\r\nexport default kMean\r\n"]},"metadata":{},"sourceType":"module"}