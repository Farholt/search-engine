{"ast":null,"code":"let csvToJson = require('convert-csv-to-json');\n\nconst jsonResult = () => {\n  const rawJson = csvToJson.getJsonFromCsv('./shared/data/blogdata.csv');\n  /* New Json Array */\n\n  let arr = [{\n    total: [],\n    words: [],\n    blogs: []\n  }];\n  let n = 0;\n\n  for (let word in rawJson[0]) {\n    if (n != 0) arr[0].words.push(word);\n    n++;\n  }\n\n  for (let i = 0; i < rawJson.length; i++) {\n    /* For storing total word count */\n    let tmp = [];\n    /* Get total word count */\n\n    for (var propName in rawJson[i]) {\n      if (rawJson[i].hasOwnProperty(propName)) {\n        let v = parseInt(rawJson[i][propName]); // parse string to int\n\n        if (v >= 0) tmp.push(v); // get rid of blog name from word list\n      }\n    }\n    /* Store blog data in seperate objects */\n\n\n    arr[0]['blogs'].push({\n      name: rawJson[i]['Blog'],\n      wordsTotal: tmp\n    });\n  }\n\n  arr[0].total = arr[0]['words'].length;\n  return arr;\n};\n\nexport default jsonResult;","map":{"version":3,"sources":["C:/Users/fredr/Documents/Universitet/HT20/2DV515 - Web Intelligence/A2/shared/functions/convertDatasetToJson.ts"],"names":["csvToJson","require","jsonResult","rawJson","getJsonFromCsv","arr","total","words","blogs","n","word","push","i","length","tmp","propName","hasOwnProperty","v","parseInt","name","wordsTotal"],"mappings":"AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,qBAAD,CAAvB;;AAEA,MAAMC,UAAU,GAAG,MAAM;AACvB,QAAMC,OAAO,GAAGH,SAAS,CAACI,cAAV,CAAyB,4BAAzB,CAAhB;AAEA;;AACA,MAAIC,GAAQ,GAAG,CACb;AACEC,IAAAA,KAAK,EAAE,EADT;AAEEC,IAAAA,KAAK,EAAE,EAFT;AAGEC,IAAAA,KAAK,EAAE;AAHT,GADa,CAAf;AAQA,MAAIC,CAAC,GAAG,CAAR;;AACA,OAAK,IAAIC,IAAT,IAAiBP,OAAO,CAAC,CAAD,CAAxB,EAA6B;AAC3B,QAAIM,CAAC,IAAI,CAAT,EAAYJ,GAAG,CAAC,CAAD,CAAH,CAAOE,KAAP,CAAaI,IAAb,CAAkBD,IAAlB;AACZD,IAAAA,CAAC;AACF;;AAED,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,OAAO,CAACU,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvC;AACA,QAAIE,GAAG,GAAG,EAAV;AAEA;;AACA,SAAK,IAAIC,QAAT,IAAqBZ,OAAO,CAACS,CAAD,CAA5B,EAAiC;AAC/B,UAAIT,OAAO,CAACS,CAAD,CAAP,CAAWI,cAAX,CAA0BD,QAA1B,CAAJ,EAAyC;AACvC,YAAIE,CAAC,GAAGC,QAAQ,CAACf,OAAO,CAACS,CAAD,CAAP,CAAWG,QAAX,CAAD,CAAhB,CADuC,CACA;;AACvC,YAAIE,CAAC,IAAI,CAAT,EAAYH,GAAG,CAACH,IAAJ,CAASM,CAAT,EAF2B,CAEf;AACzB;AACF;AAED;;;AACAZ,IAAAA,GAAG,CAAC,CAAD,CAAH,CAAO,OAAP,EAAgBM,IAAhB,CAAqB;AACnBQ,MAAAA,IAAI,EAAEhB,OAAO,CAACS,CAAD,CAAP,CAAW,MAAX,CADa;AAEnBQ,MAAAA,UAAU,EAAEN;AAFO,KAArB;AAID;;AAEDT,EAAAA,GAAG,CAAC,CAAD,CAAH,CAAOC,KAAP,GAAeD,GAAG,CAAC,CAAD,CAAH,CAAO,OAAP,EAAgBQ,MAA/B;AAEA,SAAOR,GAAP;AACD,CAxCD;;AA0CA,eAAeH,UAAf","sourcesContent":["let csvToJson = require('convert-csv-to-json')\r\n\r\nconst jsonResult = () => {\r\n  const rawJson = csvToJson.getJsonFromCsv('./shared/data/blogdata.csv')\r\n\r\n  /* New Json Array */\r\n  let arr: any = [\r\n    {\r\n      total: [],\r\n      words: [],\r\n      blogs: [],\r\n    },\r\n  ]\r\n\r\n  let n = 0\r\n  for (let word in rawJson[0]) {\r\n    if (n != 0) arr[0].words.push(word)\r\n    n++\r\n  }\r\n\r\n  for (let i = 0; i < rawJson.length; i++) {\r\n    /* For storing total word count */\r\n    let tmp = []\r\n\r\n    /* Get total word count */\r\n    for (var propName in rawJson[i]) {\r\n      if (rawJson[i].hasOwnProperty(propName)) {\r\n        let v = parseInt(rawJson[i][propName]) // parse string to int\r\n        if (v >= 0) tmp.push(v) // get rid of blog name from word list\r\n      }\r\n    }\r\n\r\n    /* Store blog data in seperate objects */\r\n    arr[0]['blogs'].push({\r\n      name: rawJson[i]['Blog'],\r\n      wordsTotal: tmp,\r\n    })\r\n  }\r\n\r\n  arr[0].total = arr[0]['words'].length\r\n\r\n  return arr\r\n}\r\n\r\nexport default jsonResult\r\n"]},"metadata":{},"sourceType":"module"}